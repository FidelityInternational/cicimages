#!/usr/bin/env bash

CURRENT_PATH="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# shellcheck source=image/bin/support/sh/functions/wrapped_commands.sh
source "${CURRENT_PATH}/support/sh/functions/wrapped_commands.sh"

volume_path="$(volume_path pytest)"
copy_to_cic_volume "$(pwd)/." "${volume_path}"

docker run -t\
  --network "$(cic_network)" \
  -v "$(working_directory)":"$(cic_working_dir)" \
  -w "$(cic_working_dir)" \
  -e PYTHONDONTWRITEBYTECODE=1 \
   cicimages/wrappers-pylint:latest \
   /bin/bash -ilc "$(build_command "pylint" "$@")"

